parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ojiJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BASE_SERVISE=void 0;var e={keys:{TODO_TASK_KEY:"new-todos",IN_PROGRESS_TASK_KEY:"todos-in-progress",DONE_TASK_KEY:"todos-done"},setNewTodos:function(e){localStorage.setItem(this.keys.TODO_TASK_KEY,JSON.stringify(e))},getNewTodos:function(){var e,o=JSON.parse(localStorage.getItem(this.keys.TODO_TASK_KEY));return null!==(e=o)&&void 0!==e?e:o=[]},setTodosInProgress:function(e){localStorage.setItem(this.keys.IN_PROGRESS_TASK_KEY,JSON.stringify(e))},getTodosInProgress:function(){var e,o=JSON.parse(localStorage.getItem(this.keys.IN_PROGRESS_TASK_KEY));return null!==(e=o)&&void 0!==e?e:o=[]},setTodosInColumnDone:function(e){localStorage.setItem(this.keys.DONE_TASK_KEY,JSON.stringify(e))},getTodosInColumnDone:function(){var e,o=JSON.parse(localStorage.getItem(this.keys.DONE_TASK_KEY));return null!==(e=o)&&void 0!==e?e:o=[]}};exports.BASE_SERVISE=e;
},{}],"j02D":[function(require,module,exports) {
"use strict";function t(){var t=new Date,e=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0");return"".concat(e,":").concat(r)}function e(){var e=t();return document.querySelector("#clock").textContent=e,e}function r(){setInterval(function(){e()},1e3)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderTime=e,exports.startTime=r;
},{}],"WcSf":[function(require,module,exports) {
"use strict";function t(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function e(){var t=document.querySelector("#users");return t.options[t.selectedIndex].text}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUUID=t,exports.getValueOption=e;
},{}],"qkuN":[function(require,module,exports) {
"use strict";function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d=document.createElement(t),r=document.createTextNode(n);return d.className=e,d.append(r),d}function e(e){var n=t("li","card card--blue"),d=t("div","card__content"),r=t("h3","card__content-title",e.title),a=t("div","card__content"),c=t("button","card__content-btn","Edit"),i=t("button","card__content-btn","Delete"),o=t("div","card__content"),p=t("p","card__content-description",e.description),_=t("button","card__content-btn card__content-btn--arrow"),u=t("div","card__content"),s=t("p","card__content-user",e.user),b=t("p","card__content-time",e.time);return n.id=e.id,d.id="headercard",c.id="edit",o.id="maincard",c.type="button",i.type="button",_.type="button",c.setAttribute("data-edit","edit"),_.setAttribute("data-arrow","moving"),i.setAttribute("data-delete","delete"),o.append(p,_),a.append(c,i),d.append(r,a),u.append(s,b),n.append(d,o,u),n}function n(e){var n=t("li","card card--pink"),d=t("div","card__content"),r=t("h3","card__content-title",e.title),a=t("div","card__content"),c=t("button","card__content-btn","Back"),i=t("button","card__content-btn","Complete"),o=t("div","card__content"),p=t("p","card__content-description",e.description),_=t("div","card__content"),u=t("p","card__content-user",e.user),s=t("p","card__content-time",e.time);return c.type="button",i.type="button",n.id=e.id,d.id="headercard",o.id="maincard",c.setAttribute("data-action","back"),i.setAttribute("data-complete","btn"),d.append(r,a),a.append(c,i),o.append(p),_.append(u,s),n.append(d,o,_),n}function d(e){var n=t("li","card card--orange"),d=t("div","card__content"),r=t("h3","card__content-title",e.title),a=t("div","card__content"),c=t("button","card__content-btn","Delete"),i=t("div","card__content"),o=t("p","card__content-description",e.description),p=t("div","card__content"),_=t("p","card__content-user",e.user),u=t("p","card__content-time",e.time);return c.type="button",n.id=e.id,d.id="headercard",i.id="maincard",c.setAttribute("data-remove","done"),d.append(r,a),a.append(c),i.append(o),p.append(_,u),n.append(d,i,p),n}function r(){var e=t("input","card__input");return e.type="text",e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCard=e,exports.createCardInColumnDone=d,exports.createCardInProgress=n,exports.createElement=t,exports.createInput=r;
},{}],"zjjK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keys=exports.column=void 0;var e=new t;exports.column=e;var o={counterTodo:document.querySelector("#counter-todo"),counterProgress:document.querySelector("#counter-progress"),counterDone:document.querySelector("#counter-done")};function t(){this.cardsInColumn=function(e,o){var t=e.length;o.textContent=t,t||(o.textContent="")}}exports.keys=o;
},{}],"W3tc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Card=d,exports.initCard=i;var e=require("../services/localStorageAPI.js"),t=require("./Clock.js"),r=require("../utils/utils.js"),n=require("../templates/templates.js"),o=require("../components/Counter.js"),s=require("../components/ModalWarning.js");function i(){e.BASE_SERVISE.getNewTodos().forEach(function(e){var t=new d(e);t.render(),t.stopMovingCards()}),e.BASE_SERVISE.getTodosInProgress().forEach(function(e){new d(e).renderCardInProgress()}),e.BASE_SERVISE.getTodosInColumnDone().forEach(function(e){new d(e).renderCardInColumnDone()})}function d(i,d){var a=this;this.id=(0,r.getUUID)(),this.title=i,this.description=d,this.user=(0,r.getValueOption)(),this.time=(0,t.renderTime)(),this.render=function(){var t=this,r=e.BASE_SERVISE.getNewTodos(),s=document.querySelector("#column-cards");s.innerHTML="",r.length&&r.forEach(function(e){var i=(0,n.createCard)(e);i.addEventListener("click",t.handleCardTodo),s.appendChild(i),o.column.cardsInColumn(r,o.keys.counterTodo)})},this.handleCardTodo=function(e){var t=e.target;switch(t.dataset&&t.textContent.toLowerCase()){case"edit":a.edit();break;case"save":a.save()}t.dataset.arrow&&(a.moveCardInProgress(),a.renderCardInProgress(),a.stopMovingCards(),a.showModalWarning()),t.dataset.delete&&a.delete()},this.edit=function(){this.card=event.target.closest(".card"),this.id=this.card.id,this.headerCard=this.card.querySelector("#headercard"),this.cardTitle=this.card.querySelector(".card__content-title"),this.textTitle=this.card.querySelector(".card__content-title").textContent,this.inputEditTitleCard=(0,n.createInput)(),this.headerCard.prepend(this.inputEditTitleCard),this.inputEditTitleCard.value=this.textTitle,this.cardTitle.classList.add("card__content-title--hidden"),this.mainCard=this.card.querySelector("#maincard"),this.cardDescription=this.card.querySelector(".card__content-description"),this.textDescription=this.card.querySelector(".card__content-description").textContent,this.inputEditDescriptionCard=(0,n.createInput)(),this.mainCard.prepend(this.inputEditDescriptionCard),this.inputEditDescriptionCard.value=this.textDescription,this.cardDescription.classList.toggle("card__content-description--hidden"),this.cardBtnEdit=this.card.querySelector("#edit"),this.cardBtnEdit.textContent="Save"},this.save=function(){var t=this;this.cardTitle.classList.toggle("card__content-title--hidden"),this.cardTitle.textContent=this.inputEditTitleCard.value,this.inputEditTitleCard.remove(),this.cardDescription.classList.toggle("card__content-description--hidden"),this.cardDescription.textContent=this.inputEditDescriptionCard.value,this.inputEditDescriptionCard.remove(),this.cardBtnEdit.textContent="Edit";var r=e.BASE_SERVISE.getNewTodos();r.forEach(function(e){e.id===t.id&&(e.title=t.cardTitle.textContent,e.description=t.cardDescription.textContent)}),e.BASE_SERVISE.setNewTodos(r)},this.delete=function(){var t=this;this.card=event.target.closest(".card"),this.id=this.card.id;var r=e.BASE_SERVISE.getNewTodos();r.map(function(e,n){e.id===t.id&&r.splice(n,1)}),e.BASE_SERVISE.setNewTodos(r),this.render(),o.column.cardsInColumn(r,o.keys.counterTodo)},this.renderCardInProgress=function(){var t=this,r=e.BASE_SERVISE.getTodosInProgress(),s=document.querySelector("#column-cards-progress");s.innerHTML="",r.forEach(function(e){var i=(0,n.createCardInProgress)(e);i.addEventListener("click",t.handleCardInProgress),s.appendChild(i),o.column.cardsInColumn(r,o.keys.counterProgress)})},this.handleCardInProgress=function(e){var t=e.target;t.dataset.action?(a.moveCardBack(),a.renderCardInProgress(),a.render()):t.dataset.complete&&(a.moveCardInColumnDone(),a.renderCardInColumnDone())},this.moveCardInProgress=function(){var t=this;this.card=event.target.closest(".card"),this.id=this.card.id;var r=e.BASE_SERVISE.getNewTodos(),n=e.BASE_SERVISE.getTodosInProgress();r.map(function(e,o){e.id===t.id&&(n.push(e),r.splice(o,1))}),e.BASE_SERVISE.setNewTodos(r),this.render(),o.column.cardsInColumn(r,o.keys.counterTodo),e.BASE_SERVISE.setTodosInProgress(n)},this.moveCardBack=function(){var t=this;this.card=event.target.closest(".card"),this.id=this.card.id;var r=e.BASE_SERVISE.getNewTodos(),n=e.BASE_SERVISE.getTodosInProgress();n.map(function(e,o){e.id===t.id&&(r.push(e),n.splice(o,1))}),this.renderCardInProgress,o.column.cardsInColumn(n,o.keys.counterProgress),e.BASE_SERVISE.setTodosInProgress(n),e.BASE_SERVISE.setNewTodos(r)},this.stopMovingCards=function(){e.BASE_SERVISE.getTodosInProgress().length>=6&&document.querySelectorAll("[data-arrow=moving]").forEach(function(e){e.disabled=!0})},this.showModalWarning=function(){var t=document.querySelector("#modal-warning").querySelector(".card__content-description"),r=document.querySelector("#confirm-delete-all");e.BASE_SERVISE.getTodosInProgress().length>=6&&(s.modalWarning.open(),t.textContent="Sorry! You can't add more than 6 cards!",r.classList.add("card__content-btn--hidden"))},this.moveCardInColumnDone=function(){var t=this;this.card=event.target.closest(".card"),this.id=this.card.id;var r=e.BASE_SERVISE.getTodosInProgress(),n=e.BASE_SERVISE.getTodosInColumnDone();r.map(function(e,o){e.id===t.id&&(n.push(e),r.splice(o,1))}),e.BASE_SERVISE.setTodosInProgress(r),this.renderCardInProgress(),o.column.cardsInColumn(r,o.keys.counterProgress),e.BASE_SERVISE.setTodosInColumnDone(n)},this.renderCardInColumnDone=function(){var t=this,r=e.BASE_SERVISE.getTodosInColumnDone(),s=document.querySelector("#column-cards-done");s.innerHTML="",r.forEach(function(e){var i=(0,n.createCardInColumnDone)(e);i.addEventListener("click",t.handleCardInColumnDone),s.appendChild(i),o.column.cardsInColumn(r,o.keys.counterDone)})},this.handleCardInColumnDone=function(e){e.target.dataset.remove&&a.removeCardDone()},this.removeCardDone=function(){var t=this;this.card=event.target.closest(".card"),this.id=this.card.id;var r=e.BASE_SERVISE.getTodosInColumnDone();r.map(function(e,n){e.id===t.id&&r.splice(n,1)}),e.BASE_SERVISE.setTodosInColumnDone(r),this.renderCardInColumnDone(),o.column.cardsInColumn(r,o.keys.counterDone)}}
},{"../services/localStorageAPI.js":"ojiJ","./Clock.js":"j02D","../utils/utils.js":"WcSf","../templates/templates.js":"qkuN","../components/Counter.js":"zjjK","../components/ModalWarning.js":"U2OL"}],"U2OL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modalWarning=void 0;var e=require("../services/localStorageAPI.js"),t=require("./Card.js"),n=require("../components/Counter.js"),o={message:"Are you sure that you want to delete every completed task?",root:document.querySelector("#modal-warning")};function l(o){var l=this,i=o.root,r=o.message;this.root=i,this.message=r,this.btnCancelModal=this.root.querySelector("#cancel-modal"),this.btnConfirmModal=this.root.querySelector("#confirm-delete-all"),this.btnDeleteAll=document.querySelector("#delete-all"),this.init=function(){this.btnDeleteAll.addEventListener("click",this.handleBtnDelete),this.btnCancelModal.addEventListener("click",this.handleBtnCancel),this.btnConfirmModal.addEventListener("click",this.handleBtnConfirm)},this.handleBtnDelete=function(e){"delete-all"===e.target.id&&(l.open(),l.render())},this.handleBtnCancel=function(e){"cancel-modal"===e.target.id&&l.close()},this.handleBtnConfirm=function(e){"confirm-delete-all"===e.target.id&&(l.deleteAll(),l.close())},this.open=function(){this.root.classList.add("modal--open"),this.btnConfirmModal.classList.remove("card__content-btn--hidden")},this.close=function(){this.root.classList.remove("modal--open")},this.render=function(){i.querySelector(".card__content-description").textContent=this.message},this.deleteAll=function(){var o=e.BASE_SERVISE.getTodosInColumnDone();o.length=0,e.BASE_SERVISE.setTodosInColumnDone(o),new t.Card(o).renderCardInColumnDone(),n.column.cardsInColumn(o,n.keys.counterDone)}}var i=new l(o);exports.modalWarning=i,i.init();
},{"../services/localStorageAPI.js":"ojiJ","./Card.js":"W3tc","../components/Counter.js":"zjjK"}],"J9vB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MOCK_API=void 0;var e={url:"https://622da2d58d943bae34835a90.mockapi.io/users",postUser:function(e){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"".concat(e)})},t=new Request(this.url,n);fetch(t).then(function(e){return new Promise(function(n,t){e.ok?n(e.json()):t(new Error("Ошибка!"))})}).then(function(e){return e})},getUsers:function(){var e=this;return new Promise(function(n,t){return fetch(e.url).then(function(e){if(e.ok){var r=e.json();n(r)}else t(new Error("Ошибка!"))})})}};exports.MOCK_API=e;
},{}],"n9kf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModalAddUser=void 0;var t=require("../services/mockAPI.js"),e=new n(document.querySelector("#modal-adding"));function n(e){var n=this;this.root=e,this.btnCancelModal=this.root.querySelector("#cancel-modal-adding"),this.btnConfirmModal=this.root.querySelector("#confirm-modal-adding"),this.btnAddUser=document.querySelector("#btn-add-user"),this.modalInput=this.root.querySelector("#modal-adding-input"),this.init=function(){this.btnAddUser.addEventListener("click",this.handleBtnAddUser),this.btnCancelModal.addEventListener("click",this.handleBtnCancel),this.btnConfirmModal.addEventListener("click",this.handleBtnConfirm)},this.handleBtnAddUser=function(t){"btn-add-user"===t.target.id&&n.open()},this.handleBtnCancel=function(t){"cancel-modal-adding"===t.target.id&&n.close()},this.handleBtnConfirm=function(e){if("confirm-modal-adding"===e.target.id){var o=n.root.querySelector("#modal-adding-input").value;t.MOCK_API.postUser(o),n.close(),n.clearInput(n.modalInput)}},this.open=function(){this.root.classList.add("modal--open")},this.close=function(){this.root.classList.remove("modal--open")},this.clearInput=function(t){t.value=""},this.deleteOptions=function(){document.querySelector("#users").innerHTML=""},this.printUsers=function(t){var e=document.querySelector("#users");t.forEach(function(t){var n=document.createElement("option");n.id="option",n.textContent=t.name,e.append(n)})},this.printUsersInModal=function(){var e=this;t.MOCK_API.getUsers().then(function(t){return e.printUsers(t)})}}exports.ModalAddUser=e;
},{"../services/mockAPI.js":"J9vB"}],"Q4BJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modalToDo=void 0;var e=require("./Card.js"),o=require("../services/localStorageAPI.js"),t=require("./ModalAddUser.js"),d=new n(document.querySelector(".modal-window"));function n(n){this.root=n,this.btnCancel=this.root.querySelector(".modal-window__button-cancel"),this.btnAdd=document.querySelector("#btn-add"),this.btnConfirm=this.root.querySelector(".modal-window__button-confirm"),this.overlayModal=document.querySelector(".modal-window"),this.init=function(){this.btnCancel.addEventListener("click",this.handleModalClose),this.btnAdd.addEventListener("click",this.handleModalOpen),this.btnConfirm.addEventListener("click",this.handleAddTask),this.overlayModal.addEventListener("click",this.handleModalCloseOverlay)},this.handleModalOpen=function(){t.ModalAddUser.deleteOptions(),t.ModalAddUser.printUsersInModal(),d.open()},this.handleModalClose=function(){d.close()},this.handleAddTask=function(){d.addTask()},this.handleModalCloseOverlay=function(e){"modal-window"===e.target.id&&d.close()},this.open=function(){this.root.classList.add("modal-window--active"),document.querySelector("body").classList.add("modal-window--hidden")},this.close=function(){this.root.classList.remove("modal-window--active"),document.querySelector("body").classList.remove("modal-window--hidden")},this.clearInputs=function(e,o){e.value="",o.value=""},this.addTask=function(){var t=o.BASE_SERVISE.getNewTodos(),n=document.querySelector("#modal-title"),l=document.querySelector("#modal-text"),i=new e.Card(n.value,l.value);t.push(i),n.value&&l.value?(o.BASE_SERVISE.setNewTodos(t),i.render(),this.clearInputs(n,l),d.close()):alert("Вы ничего не ввели! :( ")}}exports.modalToDo=d;
},{"./Card.js":"W3tc","../services/localStorageAPI.js":"ojiJ","./ModalAddUser.js":"n9kf"}],"GhX3":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var s=t[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function o(e,o,s){return o&&t(e.prototype,o),s&&t(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toast=void 0;var i={root:document.querySelector("#toast"),message:"Привет, это приложение Trello:)",OPEN_DELAY:15e3,CLOSE_DELAY:2e4},n=function(){function t(o){var i=this,n=o.root,r=o.message,a=o.OPEN_DELAY,u=o.CLOSE_DELAY;e(this,t),s(this,"handleToast",function(e){e.target.closest("#toast")&&i.close()}),this.root=n,this.message=r,this.OPEN_DELAY=a,this.CLOSE_DELAY=u}return o(t,[{key:"init",value:function(){this.root.addEventListener("click",this.handleToast),this.render(),this.open(),this.closeTimeout()}},{key:"open",value:function(){var e=this;setTimeout(function(){e.root.classList.add("toast--visible")},this.OPEN_DELAY)}},{key:"close",value:function(){this.root.classList.remove("toast--visible")}},{key:"closeTimeout",value:function(){var e=this;setTimeout(function(){e.root.classList.remove("toast--visible")},this.CLOSE_DELAY)}},{key:"render",value:function(){this.root.querySelector(".toast__message").textContent=this.message}}]),t}(),r=new n(i);exports.toast=r;
},{}],"g2Hq":[function(require,module,exports) {
"use strict";var o=require("./components/ModalWarning.js"),e=require("./components/Clock.js"),n=require("./components/ModalToDo.js"),t=require("./components/Toast.js"),i=require("./components/Card.js"),r=require("./components/ModalAddUser.js");function s(){(0,i.initCard)(),(0,e.startTime)(),n.modalToDo.init(),o.modalWarning.init(),t.toast.init(),r.ModalAddUser.init()}document.addEventListener("DOMContentLoaded",s);
},{"./components/ModalWarning.js":"U2OL","./components/Clock.js":"j02D","./components/ModalToDo.js":"Q4BJ","./components/Toast.js":"GhX3","./components/Card.js":"W3tc","./components/ModalAddUser.js":"n9kf"}]},{},["g2Hq"], null)